## TWRP Device Tree for Samsung Galaxy A54 5G

The Galaxy A53 5G (codenamed "_a53x_") is a mid-range smartphone from Samsung.

It was announced and released in March 2022.

## Device specifications

I hope this is accurate enough :sweat_smile:.

| Feature                      | Specification                                                                  |
| ---------------------------: | :----------------------------------------------------------------------------- |
| Chipset                      | Exynos 1280                                                                    |
| CPU                          | Octa-core (2x2.4 GHz Cortex-A78 & 6x2.0 GHz Cortex-A55)                        |
| GPU                          | Mali-G68 MP5                                                                   |
| Memory                       | 4GB / 6GB / 8GB RAM                                                            |
| Shipped OS                   | Android 12 (One UI 4.1)                                                        |
| Storage                      | 128GB / 256GB                                                                  |
| SIM                          | Single SIM (Nano-SIM) or Hybrid Dual SIM (Nano-SIM, dual stand-by)             |
| MicroSD                      | Up to 1TB                                                                      |
| Battery                      | 5000mAh Li-Po (non-removable), 25W fast charge                                 |
| Dimensions                   | 159.6 x 74.8 x 8.1 mm (6.28 x 2.94 x 0.32 in)                                  |
| Display                      | 6.5", 1080 x 2400 pixels, 20:9 ratio, Super AMOLED, 120Hz (~405 ppi density)   |
| Rear Camera 1                | 64 MP, f/1.8, 26mm (wide), 0.8µm, PDAF, OIS                                    |
| Rear Camera 2                | 12 MP, f/2.2, 123˚ (ultrawide), 1.12µm                                         |
| Rear Camera 3                | 5 MP, f/2.4, (macro)                                                           |
| Rear Camera 4                | 5 MP, f/2.4, (depth)                                                           |
| Front Camera                 | 32 MP, f/2.2, 26mm (wide), 1/2.8", 0.8µm                                       |
| Fingerprint                  | Under display, optical                                                         |
| Sensors                      | Accelerometer, Gyro, Proximity (virtual), Compass, Barometer                   |
| Extras                       | Dual speakers, NFC                                                             |

## Kernel source

https://github.com/mytja/android_kernel_samsung_a53x/tree/twrp-12.1

## How to obtain dtb/dtbo and kernel modules?
Download the latest AP file for your device, then extract `recovery.img`, use Android Image Kitchen to `unpackimg.sh`.

You should be able to find DTB & DTBO inside `split_img` folder as `recovery.img-dtb` and `recovery.img-recovery_dtbo`.

Everything in `recovery/root` can be found inside the `ramdisk` folder, as generated by Android Image Kitchen.

## How to build

This device tree was tested and is fully compatible with [minimal-manifest-twrp](https://github.com/minimal-manifest-twrp/platform_manifest_twrp_aosp).

1. Set up the build environment following the instructions [here](https://github.com/minimal-manifest-twrp/platform_manifest_twrp_aosp/blob/twrp-12.1/README.md#getting-started).

2. In the root folder of the fetched repo, clone the device tree:

```sh
git clone https://github.com/mytja/android_device_samsung_a53x.git -b main device/samsung/a53x
```

```sh
export ALLOW_MISSING_DEPENDENCIES=true
. build/envsetup.sh
lunch twrp_a54x-eng
mka recoveryimage
```

## Credits
All the credits go to following people:

- [Gabriel](https://github.com/Gabriel2392) for his initial [device tree](https://github.com/Gabriel2392/android_device_samsung_a53x) and [ExynosUnbound kernel](https://github.com/Gabriel2392/android_kernel_samsung_a53x_xy), upon which this device tree is based,
- [mohammad.afaneh92](https://github.com/afaneh92) for his [device tree](https://git.severkar.eu/SM-A536/afaneh92_android_device_samsung_a53x) and [kernel](https://git.severkar.eu/SM-A536/afaneh92_android_kernel_samsung_a53x), upon which Gabriel's device tree is based,
- [Salvo Giangreco](https://github.com/salvogiangri) for his [device tree for A54](https://github.com/salvogiangri/android_device_samsung_a54x) and [kernel for A54](https://github.com/salvogiangri/android_kernel_samsung_s5e8835), from which I took some patches and inspiration,
- and [everyone from this XDA thread](https://xdaforums.com/t/recovery-unofficial-twrp-for-the-galaxy-tab-s9-series.4660962/page-3), which was super useful whilst updating this device tree.
